---
import { Menu, X, Phone, MessageCircle } from "lucide-react";
const base = import.meta.env.BASE_URL;
---

<header
  class="fixed w-full z-50 transition-all duration-300 bg-brand-navy border-b border-white/10"
  id="main-header"
>
  <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
    <div class="flex justify-between items-center h-28">
      <!-- Logo -->
      <a href={base} class="flex items-center gap-3 group">
        <div
          class="w-20 h-20 rounded-xl overflow-hidden group-hover:scale-105 transition-transform duration-300"
        >
          <img
            src={`${base}logo-oficial.png`}
            alt="O Rei da Tela Logo"
            class="w-full h-full object-contain"
          />
        </div>
        <div class="hidden sm:flex flex-col">
          <span
            class="font-black text-xl leading-none text-white tracking-tighter"
            >O REI DA TELA</span
          >
          <span
            class="text-[10px] tracking-[0.3em] text-brand-gold font-bold uppercase"
            >Assistência Premium</span
          >
        </div>
      </a>

      <!-- Desktop Nav -->
      <nav class="hidden lg:flex items-center gap-6">
        <a
          href={base}
          class="text-white/80 hover:text-brand-gold font-bold transition-all text-xs uppercase tracking-widest"
          >Home</a
        >
        <a
          href={`${base}servicos/conserto-iphone`}
          class="text-white/80 hover:text-brand-gold font-bold transition-all text-xs uppercase tracking-widest"
          >iPhone</a
        >
        <a
          href={`${base}servicos/conserto-apple-watch`}
          class="text-white/80 hover:text-brand-gold font-bold transition-all text-xs uppercase tracking-widest"
          >Apple Watch</a
        >
        <a
          href={`${base}servicos/conserto-samsung`}
          class="text-white/80 hover:text-brand-gold font-bold transition-all text-xs uppercase tracking-widest"
          >Samsung</a
        >
        <a
          href={`${base}servicos/conserto-xiaomi`}
          class="text-white/80 hover:text-brand-gold font-bold transition-all text-xs uppercase tracking-widest"
          >Xiaomi</a
        >
        <a
          href={`${base}blog`}
          class="text-white/80 hover:text-brand-gold font-bold transition-all text-xs uppercase tracking-widest"
          >Blog</a
        >
        <!-- Status OS - Temporarily hidden
        <a
          href="/status-os"
          class="text-white/80 hover:text-brand-gold font-bold transition-all text-xs uppercase tracking-widest"
          >Status OS</a
        >
        -->
        <a
          href="https://wa.me/557194142627"
          class="bg-brand-gold text-brand-navy px-12 py-4 rounded-full font-black text-sm uppercase hover:bg-white hover:scale-105 transition-all shadow-[0_0_40px_rgba(197,160,89,0.3)] flex items-center gap-3 group"
        >
          <MessageCircle
            className="w-5 h-5 fill-current group-hover:rotate-12 transition-transform"
          />
          Orçamento
        </a>
      </nav>

      <!-- Mobile Toggle -->
      <button
        id="mobile-menu-btn"
        class="lg:hidden p-2 text-white hover:text-brand-gold transition-colors"
      >
        <Menu className="w-8 h-8" />
      </button>
    </div>
  </div>

  <!-- Mobile Menu -->
  <div
    id="mobile-menu"
    class="fixed inset-0 z-40 transform translate-x-full transition-transform duration-300 lg:hidden bg-brand-navy overflow-hidden"
  >
    <div class="p-8 flex flex-col h-full">
      <div class="flex justify-between items-center mb-12">
        <div class="flex items-center gap-3">
          <img
            src={`${base}logo-oficial.png`}
            alt="Logo"
            class="w-14 h-14 object-contain"
          />
          <span class="font-black text-lg text-white">O REI DA TELA</span>
        </div>
        <button id="close-menu-btn" class="p-2 text-white/50 hover:text-white">
          <X className="w-8 h-8" />
        </button>
      </div>

      <div class="flex flex-col gap-8 text-xl font-black">
        <a
          href={base}
          class="text-white hover:text-brand-gold transition-colors border-b border-white/5 pb-4"
          >HOME</a
        >
        <a
          href={`${base}servicos/conserto-iphone`}
          class="text-white hover:text-brand-gold transition-colors border-b border-white/5 pb-4"
          >IPHONE</a
        >
        <a
          href={`${base}servicos/conserto-apple-watch`}
          class="text-white hover:text-brand-gold transition-colors border-b border-white/5 pb-4"
          >APPLE WATCH</a
        >
        <a
          href={`${base}servicos/conserto-samsung`}
          class="text-white hover:text-brand-gold transition-colors border-b border-white/5 pb-4"
          >SAMSUNG</a
        >
        <a
          href={`${base}servicos/conserto-xiaomi`}
          class="text-white hover:text-brand-gold transition-colors border-b border-white/5 pb-4"
          >XIAOMI</a
        >
        <a
          href={`${base}blog`}
          class="text-white hover:text-brand-gold transition-colors border-b border-white/5 pb-4"
          >BLOG</a
        >
      </div>

      <div class="mt-auto">
        <a
          href="https://wa.me/557194142627"
          class="flex justify-center items-center gap-3 bg-brand-gold text-brand-navy py-5 rounded-2xl font-black uppercase text-lg shadow-2xl"
        >
          <MessageCircle className="w-6 h-6 fill-current" /> Falar no WhatsApp
        </a>
      </div>
    </div>
  </div>
</header>

<script>
  const menuBtn = document.getElementById("mobile-menu-btn");
  const closeBtn = document.getElementById("close-menu-btn");
  const mobileMenu = document.getElementById("mobile-menu");

  menuBtn?.addEventListener("click", () => {
    mobileMenu?.classList.remove("translate-x-full");
  });

  closeBtn?.addEventListener("click", () => {
    mobileMenu?.classList.add("translate-x-full");
  });
</script>
