---
import { Menu, X, Phone, MessageCircle } from 'lucide-react';
---

<header class="fixed w-full z-50 transition-all duration-300 bg-white/95 backdrop-blur-md shadow-sm border-b border-gray-100" id="main-header">
  <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
    <div class="flex justify-between items-center h-20">
      
      <!-- Logo -->
      <a href="/" class="flex items-center gap-2 group">
        <div class="bg-brand-blue p-2 rounded-lg group-hover:bg-blue-600 transition-colors">
            <!-- Icone de coroa/celular simplificado -->
             <svg xmlns="http://www.w3.org/2000/svg" class="w-6 h-6 text-white" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><rect width="14" height="20" x="5" y="2" rx="2" ry="2"/><path d="M12 18h.01"/><path d="m9 7 3-2 3 2"/></svg>
        </div>
        <div class="flex flex-col">
            <span class="font-bold text-lg leading-tight text-gray-900">O REI DA TELA</span>
            <span class="text-[10px] tracking-widest text-brand-blue font-semibold uppercase">Assistência Premium</span>
        </div>
      </a>

      <!-- Desktop Nav -->
      <nav class="hidden lg:flex items-center gap-8">
        <a href="/" class="text-gray-600 hover:text-brand-blue font-medium transition-colors text-sm uppercase tracking-wide">Home</a>
        <a href="/servicos/conserto-iphone" class="text-gray-600 hover:text-brand-blue font-medium transition-colors text-sm uppercase tracking-wide">iPhone</a>
        <a href="/servicos/conserto-apple-watch" class="text-gray-600 hover:text-brand-blue font-medium transition-colors text-sm uppercase tracking-wide">Apple Watch</a>
        <a href="/status-os" class="text-gray-600 hover:text-brand-blue font-medium transition-colors text-sm uppercase tracking-wide">Status OS</a>
        <a href="https://wa.me/5571999999999" class="bg-brand-blue text-white px-6 py-2.5 rounded-full font-bold text-sm uppercase hover:bg-black transition-all shadow-lg shadow-blue-500/30 flex items-center gap-2">
          <MessageCircle class="w-4 h-4" />
          Orçamento
        </a>
      </nav>

      <!-- Mobile Toggle -->
      <button id="mobile-menu-btn" class="lg:hidden p-2 text-gray-600 hover:text-brand-blue">
        <Menu className="w-8 h-8" />
      </button>
    </div>
  </div>

  <!-- Mobile Menu -->
  <div id="mobile-menu" class="fixed inset-0 z-40 transform translate-x-full transition-transform duration-300 lg:hidden bg-white">
    <div class="p-6 flex flex-col h-full">
      <div class="flex justify-between items-center mb-8">
        <span class="font-bold text-xl text-brand-blue">Menu</span>
        <button id="close-menu-btn" class="p-2 text-gray-500 hover:text-red-500">
            <X className="w-8 h-8" />
        </button>
      </div>

      <div class="flex flex-col gap-6 text-lg font-medium">
        <a href="/" class="border-b border-gray-100 pb-4 text-gray-800 hover:text-brand-blue">Home</a>
        <a href="/servicos/conserto-iphone" class="border-b border-gray-100 pb-4 text-gray-800 hover:text-brand-blue">iPhone</a>
        <a href="/servicos/conserto-apple-watch" class="border-b border-gray-100 pb-4 text-gray-800 hover:text-brand-blue">Apple Watch</a>
        <a href="/status-os" class="border-b border-gray-100 pb-4 text-gray-800 hover:text-brand-blue">Consultar OS</a>
      </div>

      <div class="mt-auto">
        <a href="https://wa.me/5571999999999" class="flex justify-center items-center gap-2 bg-brand-blue text-white py-4 rounded-xl font-bold uppercase shadow-lg">
            <MessageCircle class="w-5 h-5" /> Falar no WhatsApp
        </a>
      </div>
    </div>
  </div>
</header>

<script>
  const menuBtn = document.getElementById('mobile-menu-btn');
  const closeBtn = document.getElementById('close-menu-btn');
  const mobileMenu = document.getElementById('mobile-menu');
  
  menuBtn?.addEventListener('click', () => {
    mobileMenu?.classList.remove('translate-x-full');
  });

  closeBtn?.addEventListener('click', () => {
    mobileMenu?.classList.add('translate-x-full');
  });
</script>
